# 1. Цель проекта

Цель проекта - разработать систему учета расходов на ремонт дома или 
квартиры (далее Система). Пользователь должен заносить информацию о покупках 
материалов, а также услуг связанных с ремонтом в систему. Система должна 
хранить всю историю затрат, иметь возможность быстро найти приобретённый ранее 
товар или услугу, отображать статистику и строить графики. Так же в системе 
должна быть предусмотрена функция планирования и ведения заметок о выполненных 
работах.

**Дом и квартира далее будет обозначаться просто как "Дом"**

# 2. Описание системы

Система состоит из следующих основных функциональных блоков:

1. Регистрация, аутентификация и авторизация
2. Настройки системы
3. Функционал для занесения и отображения товаров и услуг
4. Функционал для отображения статистики и графиков
5. Функционал для занесения планируемых товаров и услуг
6. Функционал для ведения заметок (блог)
7. Мобильное приложение, основная задача которого - сканирование чеков

## 2.1. Регистрация, аутентификация и авторизация

### 2.1.1. Регистрация

При регистрации пользователя должны быть запрошены следующие данные:

* имя пользователя - обязательное поле
* email - обязательное поле
* пароль - обязательное поле

После отправки формы регистрации пользователю на почту приходит письмо с 
ссылкой для активации учетной записи.

### 2.1.2. Аутентификация

Аутентификация осуществляется путем ввода следующих полей:

* имя пользователя или email
* пароль

Так же должна быть предусмотрена аутентификация через ВКонтакте и Google, 
в этом случае процесс регистрации можно пропустить.

## 2.2. Настройки

Настройки должны состоять из следующих блоков:

1. Редактирования данных профиля
2. Заведение и редактирования домов
3. Заведение и редактирования комнат
4. Заведение и редактирования магазинов
5. Заведение и редактирования типов затрат

### 2.2.1. Редактирования данных профиля

В этом разделе у пользователя есть возможность редкатирвоания данных своего 
профиля - email, смена пароля.

### 2.2.2. Добавление и редактирования домов

Пользователь может добивать сколько угодно домов, но активным может быть 
только один. Товары и услуги будут добавляться и отображаться у 
активного дома. Необходимо рассмотреть функцию быстрой смены активного дома 
не заходя в настройки.
По каждому дому задаются следующие обязательные поля:

* Наименование
* Тип (дом или квартира)
* Площадь - опционально

### 2.2.3. Добавление и редактирования комнат

Комнаты должны быть связаны с определенным домом.
Комнаты должны содержать следующие поля:

* Наименование - обязательное
* Площадь - опционально
* Высота потолков - опционально
* Дата начала ремонта - опционально
* Дата окончания ремонта - опционально

### 2.2.4. Добавление и редактирования магазинов

Для каждого магазина задаются следующие поля:

* Наименование - обязательное
* Ссылка на сайт - опционально

### 2.2.5. Добавление и редактирования типов затрат

Тип затрат должен иметь следующие поле:

* Наименование - обязательное

## 2.3. Функционал для занесения, редактирования и отображения товаров и услуг

### 2.3.1. Занесение и редактирование товаров и услуг

Пользователь заносит данные в систему путем добавления чеков. На первом этапе 
разработки предполагается что чеки заносятся вручную. В дальнейшем сделать 
автоматическую загрузку данных путем сканирования QR-кодов из чеков из 
мобильного приложения.
При добавлении чека пользователем должна вноситься следующая информация:

* Дата - обязательное
* Магазин (выбирается из списка добавленных магазинов) - обязательное
* Список товаров и услуг - обязательное, хотя бы 1 позиция

Каждый товар или услуга содержит следующие поля:

* Наименование - обязательное
* Ссылка на товар в интернет магазине - опционально
* Комната (выбирается из списка добавленных комнат в текущем доме) - обязательное
* Категория (выбирается из списка добавленных категорий) - обязательное
* Примечание - опционально
* Стоимость - обязательное
* Количество - обязательное

При реализации блока 5 должна быть возможность выбора товара для добавления в 
чек из списка планируемых.

Редактирование данных должно происходить путем редактирования всего чека.

### 2.3.2. Отображения товаров и услуг

Занесенные данные должны отображаться в таблице. Отображаются данные только из 
текущего дома. Список колонок будет определен в процессе дизайна. Должны быть 
предусмотрены фильтры и поиск товаров в таблице. 
Фильтрация необходима по следующим полям: магазин, комната, категория, дата покупки.
Поиск осуществляется по полям: наименование и примечание.
В таблицы должна быть предусмотрена строка "Итого" для отображения общей суммы.
Должна быть возможность вывода данных в Excel.

## 2.4. Функционал для отображения статистики и графиков

Данные блок подразумевает отображение общих данных, например, расходы за год, 
месяц, по каждой из комнат и т.д.. Список данных и графиков будет определен в 
процессе дизайна. 

## 2.5. Функционал для занесения планируемых товаров и услуг

В данный блок заноситься информация о товарах или услугах, которые планируются к 
приобретению. Информация заносится по каждому товару отдельно. Каждый планируемый 
товар или услуга должен содержать такие же поля как товар или услуга в чеке, 
описанные в пункте 2.3.1. 
Данные отображаться в виде таблицы или списка.
Автоматически удалять товар из планируемого если он был выбран при добавлении в чек.

## 2.6. Функционал для ведения заметок (блог)

Данный функционал необходим для занесения какой-либо информации касаемо ремонта. 
Заметка может содержать текст, фотографии и файлы.
При добавлении заметки пользователь может указать ее состояние:

* Публичная - доступная для всех пользователей системы
* Приватная - Доступная только для текущего пользователя

Заметки должны отображаться в виде списка. Должен быть предусмотрен поиск и 
переключение отображение публичных или приватных заметок. У публичных заметок 
предусмотреть систему лайков и закладок.

## 2.7. Мобильное приложение

Мобильное приложение должно дублировать весь функционал плюс возможность с 
помощью камеры сканировать QR-коды чеков для их автоматического добавления.

# 3. Предлагаемый стек технологий

Для реализации системы предлагается следующий стек технологий:

* Бэкенд:
    - Язык Python
    - Фреймворк Django
    - djangorestframework

* Фронтенд:
    - Next.js
    - React
    - TypeScript
    - Chakra UI

Хранение файлов и изображений, загружаемых пользователем в заметках, должно осуществляться
в S3-совместимом хранилище.

# 4. Прочие требования

Система должна иметь возможность смены языка (русский и английский).
Система должна иметь возможность изменения темы (светлая и темная).
